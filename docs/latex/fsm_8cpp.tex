\doxysection{Referencia del archivo src/fsm.cpp}
\hypertarget{fsm_8cpp}{}\label{fsm_8cpp}\index{src/fsm.cpp@{src/fsm.cpp}}


Implementación de la Máquina de Estados Finitos (FSM).  


{\ttfamily \#include "{}fsm.\+hpp"{}}\newline
\doxysubsubsection*{Clases}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structestado__t}{estado\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Estructura que define una fila en la tabla de transiciones de un estado. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}} (int c)
\begin{DoxyCompactList}\small\item\em Función de acción nula (dummy) utilizada para transiciones que no requieren lógica adicional. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{fsm_8cpp_a5c39de512c4b78d230676be9529635bd}{transicionar}} (int entrada)
\begin{DoxyCompactList}\small\item\em Ejecuta la lógica de transición de la máquina de estados. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structestado__t}{estado\+\_\+t}} \mbox{\hyperlink{fsm_8cpp_a069a28f6c0e81686e8cb3a9ef42e540c}{stop}} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em Tabla de transiciones para el estado STOP (S). \end{DoxyCompactList}\item 
\mbox{\hyperlink{structestado__t}{estado\+\_\+t}} \mbox{\hyperlink{fsm_8cpp_acfa49cb38c51dc041b36385d4b1d7b1b}{acel}} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em Tabla de transiciones para el estado ACELERAR (A). \end{DoxyCompactList}\item 
\mbox{\hyperlink{structestado__t}{estado\+\_\+t}} \mbox{\hyperlink{fsm_8cpp_a4d31f5a8868cdbae7ffa8b386cfe7761}{control}} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em Tabla de transiciones para el estado CONTROL (C). \end{DoxyCompactList}\item 
\mbox{\hyperlink{structestado__t}{estado\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{fsm_8cpp_abd88f3559bbd3b2b3ffd8eb3b3dbe1fc}{tabla\+\_\+de\+\_\+estados}} \mbox{[}$\,$\mbox{]} = \{ \mbox{\hyperlink{fsm_8cpp_a069a28f6c0e81686e8cb3a9ef42e540c}{stop}}, \mbox{\hyperlink{fsm_8cpp_acfa49cb38c51dc041b36385d4b1d7b1b}{acel}}, \mbox{\hyperlink{fsm_8cpp_a4d31f5a8868cdbae7ffa8b386cfe7761}{control}} \}
\begin{DoxyCompactList}\small\item\em Tabla general que agrupa los punteros a las tablas de cada estado. \end{DoxyCompactList}\item 
void(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{fsm_8cpp_a75ca1f171787107103fec12fc9b031f8}{acciones\+\_\+estado}} \mbox{[}$\,$\mbox{]})()
\begin{DoxyCompactList}\small\item\em Punteros a las funciones de acción de cada estado, definidas externamente. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
Implementación de la Máquina de Estados Finitos (FSM). 

Controla el flujo de operación del robot entre los estados de parada, aceleración y control PID mediante tablas de transición basadas en las banderas de RUN y SETPOINT. \begin{DoxyAuthor}{Autor}
Legion de Ohm 
\end{DoxyAuthor}


\label{doc-func-members}
\Hypertarget{fsm_8cpp_doc-func-members}
\doxysubsection{Documentación de funciones}
\Hypertarget{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}\index{fsm.cpp@{fsm.cpp}!nada@{nada}}
\index{nada@{nada}!fsm.cpp@{fsm.cpp}}
\doxysubsubsection{\texorpdfstring{nada()}{nada()}}
{\footnotesize\ttfamily \label{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7} 
int nada (\begin{DoxyParamCaption}\item[{int}]{c}{}\end{DoxyParamCaption})}



Función de acción nula (dummy) utilizada para transiciones que no requieren lógica adicional. 


\begin{DoxyParams}{Parámetros}
{\em c} & Código de entrada. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
int Siempre retorna 0. 
\end{DoxyReturn}
\Hypertarget{fsm_8cpp_a5c39de512c4b78d230676be9529635bd}\index{fsm.cpp@{fsm.cpp}!transicionar@{transicionar}}
\index{transicionar@{transicionar}!fsm.cpp@{fsm.cpp}}
\doxysubsubsection{\texorpdfstring{transicionar()}{transicionar()}}
{\footnotesize\ttfamily \label{fsm_8cpp_a5c39de512c4b78d230676be9529635bd} 
int transicionar (\begin{DoxyParamCaption}\item[{int}]{entrada}{}\end{DoxyParamCaption})}



Ejecuta la lógica de transición de la máquina de estados. 

Gestiona el cambio de estado basado en una entrada específica.

Busca en la tabla del estado actual una coincidencia con la entrada proporcionada. Si la encuentra, actualiza el estado y ejecuta la acción correspondiente al nuevo estado. 
\begin{DoxyParams}{Parámetros}
{\em entrada} & Valor entero que combina las señales de control para decidir la transición. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
int El nuevo estado después de procesar la entrada. 
\end{DoxyReturn}


\label{doc-var-members}
\Hypertarget{fsm_8cpp_doc-var-members}
\doxysubsection{Documentación de variables}
\Hypertarget{fsm_8cpp_a75ca1f171787107103fec12fc9b031f8}\index{fsm.cpp@{fsm.cpp}!acciones\_estado@{acciones\_estado}}
\index{acciones\_estado@{acciones\_estado}!fsm.cpp@{fsm.cpp}}
\doxysubsubsection{\texorpdfstring{acciones\_estado}{acciones\_estado}}
{\footnotesize\ttfamily \label{fsm_8cpp_a75ca1f171787107103fec12fc9b031f8} 
void(\texorpdfstring{$\ast$}{*} acciones\+\_\+estado\mbox{[}$\,$\mbox{]})() (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Punteros a las funciones de acción de cada estado, definidas externamente. 

Punteros a las funciones de acción de cada estado, definidas externamente. \Hypertarget{fsm_8cpp_acfa49cb38c51dc041b36385d4b1d7b1b}\index{fsm.cpp@{fsm.cpp}!acel@{acel}}
\index{acel@{acel}!fsm.cpp@{fsm.cpp}}
\doxysubsubsection{\texorpdfstring{acel}{acel}}
{\footnotesize\ttfamily \label{fsm_8cpp_acfa49cb38c51dc041b36385d4b1d7b1b} 
\mbox{\hyperlink{structestado__t}{estado\+\_\+t}} acel\mbox{[}$\,$\mbox{]}}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ \{0,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631af1ce01387d2348f8b858721a7db81670}{S}}\},}
\DoxyCodeLine{\ \ \ \ \{1,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631a739ce3f516592d245d16fd8a3893472c}{C}}\},}
\DoxyCodeLine{\ \ \ \ \{2,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631af1ce01387d2348f8b858721a7db81670}{S}}\},}
\DoxyCodeLine{\ \ \ \ \{3,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631a42a4ade1acd55a49164099104990e09f}{A}}\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631aea15d1f110a11dbe706b2e0113108061}{CUALQUIERA}},\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631a42a4ade1acd55a49164099104990e09f}{A}}\},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Tabla de transiciones para el estado ACELERAR (A). 

\Hypertarget{fsm_8cpp_a4d31f5a8868cdbae7ffa8b386cfe7761}\index{fsm.cpp@{fsm.cpp}!control@{control}}
\index{control@{control}!fsm.cpp@{fsm.cpp}}
\doxysubsubsection{\texorpdfstring{control}{control}}
{\footnotesize\ttfamily \label{fsm_8cpp_a4d31f5a8868cdbae7ffa8b386cfe7761} 
\mbox{\hyperlink{structestado__t}{estado\+\_\+t}} control\mbox{[}$\,$\mbox{]}}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ \{0,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631af1ce01387d2348f8b858721a7db81670}{S}}\},}
\DoxyCodeLine{\ \ \ \ \{1,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631a739ce3f516592d245d16fd8a3893472c}{C}}\},}
\DoxyCodeLine{\ \ \ \ \{2,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631af1ce01387d2348f8b858721a7db81670}{S}}\},}
\DoxyCodeLine{\ \ \ \ \{3,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631a42a4ade1acd55a49164099104990e09f}{A}}\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631aea15d1f110a11dbe706b2e0113108061}{CUALQUIERA}},\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631a739ce3f516592d245d16fd8a3893472c}{C}}\},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Tabla de transiciones para el estado CONTROL (C). 

\Hypertarget{fsm_8cpp_a069a28f6c0e81686e8cb3a9ef42e540c}\index{fsm.cpp@{fsm.cpp}!stop@{stop}}
\index{stop@{stop}!fsm.cpp@{fsm.cpp}}
\doxysubsubsection{\texorpdfstring{stop}{stop}}
{\footnotesize\ttfamily \label{fsm_8cpp_a069a28f6c0e81686e8cb3a9ef42e540c} 
\mbox{\hyperlink{structestado__t}{estado\+\_\+t}} stop\mbox{[}$\,$\mbox{]}}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ \{0,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631af1ce01387d2348f8b858721a7db81670}{S}}\},}
\DoxyCodeLine{\ \ \ \ \{1,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631a42a4ade1acd55a49164099104990e09f}{A}}\},}
\DoxyCodeLine{\ \ \ \ \{2,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631af1ce01387d2348f8b858721a7db81670}{S}}\},}
\DoxyCodeLine{\ \ \ \ \{3,\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631a42a4ade1acd55a49164099104990e09f}{A}}\},}
\DoxyCodeLine{\ \ \ \ \{\mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631aea15d1f110a11dbe706b2e0113108061}{CUALQUIERA}},\ \mbox{\hyperlink{fsm_8cpp_acd0d099ac54b24e9fcd0a9e2ea12c4a7}{nada}},\ \mbox{\hyperlink{fsm_8hpp_a16933f9df95c0418037c4d7184797631af1ce01387d2348f8b858721a7db81670}{S}}\},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Tabla de transiciones para el estado STOP (S). 

\Hypertarget{fsm_8cpp_abd88f3559bbd3b2b3ffd8eb3b3dbe1fc}\index{fsm.cpp@{fsm.cpp}!tabla\_de\_estados@{tabla\_de\_estados}}
\index{tabla\_de\_estados@{tabla\_de\_estados}!fsm.cpp@{fsm.cpp}}
\doxysubsubsection{\texorpdfstring{tabla\_de\_estados}{tabla\_de\_estados}}
{\footnotesize\ttfamily \label{fsm_8cpp_abd88f3559bbd3b2b3ffd8eb3b3dbe1fc} 
\mbox{\hyperlink{structestado__t}{estado\+\_\+t}}\texorpdfstring{$\ast$}{*} tabla\+\_\+de\+\_\+estados\mbox{[}$\,$\mbox{]} = \{ \mbox{\hyperlink{fsm_8cpp_a069a28f6c0e81686e8cb3a9ef42e540c}{stop}}, \mbox{\hyperlink{fsm_8cpp_acfa49cb38c51dc041b36385d4b1d7b1b}{acel}}, \mbox{\hyperlink{fsm_8cpp_a4d31f5a8868cdbae7ffa8b386cfe7761}{control}} \}}



Tabla general que agrupa los punteros a las tablas de cada estado. 

